<!DOCTYPE html>
<html>
<head>
<title>Interview Skill Test</title>

<style>
body{
    font-family: Arial;
    background: linear-gradient(to right,#667eea,#764ba2);
    color:white;
    text-align:center;
}
.box{
    background:white;
    color:black;
    padding:20px;
    border-radius:10px;
    width:90%;
    max-width:500px;
    margin:auto;
}
input,textarea{
    width:90%;
    padding:8px;
    margin:5px;
}
button{
    padding:10px 20px;
    background:#667eea;
    color:white;
    border:none;
    border-radius:5px;
    cursor:pointer;
}
#timer{
    font-size:20px;
    color:yellow;
    font-weight:bold;
}
</style>
</head>

<body>

<h2>üß† Online Interview System</h2>
<p id="timer">Time: 10:00</p>

<div class="box" id="startBox">
    <input id="name" placeholder="Name"><br>
    <input id="father" placeholder="Father Name"><br>
    <input id="roll" placeholder="Roll No"><br>
    <input id="cnic" placeholder="CNIC"><br><br>
    <button onclick="startTest()">Start Interview</button>
</div>

<div class="box" id="quizBox" style="display:none;">
    <h3 id="qNo"></h3>
    <p id="question"></p>
    <textarea id="answer" rows="4" placeholder="Write your answer here..."></textarea><br><br>
    <button onclick="submitAnswer()">Next</button>
    <button onclick="skip()">Skip</button>
</div>

<div class="box" id="resultBox" style="display:none;"></div>

<script>
// ================= QUESTIONS + KEYWORDS =================
let questions = [
 {q:"What is OOP?", k:["class","object","inheritance","polymorphism"]},
 {q:"Explain Python language", k:["python","high","interpreted","simple"]},
 {q:"What is Algorithm?", k:["step","procedure","solution"]},
 {q:"What is Machine Learning?", k:["data","model","learn","training"]},
 {q:"Explain HTML", k:["markup","web","structure"]},
 {q:"What is CSS?", k:["style","design","layout"]},
 {q:"Explain JavaScript", k:["logic","dynamic","browser"]},
 {q:"What is Loop?", k:["repeat","iteration","while","for"]},
 {q:"What is Array?", k:["multiple","collection","index"]},
 {q:"Explain Inheritance", k:["reuse","parent","child"]}
];

let skipped = [];
let index = 0, score = 0;
let time = 600;

// ================= START =================
function startTest(){
    let n=document.getElementById("name").value;
    let f=document.getElementById("father").value;
    let r=document.getElementById("roll").value;
    let c=document.getElementById("cnic").value;
    if(n==""||f==""||r==""||c==""){
        alert("Please fill all fields");
        return;
    }
    document.getElementById("startBox").style.display="none";
    document.getElementById("quizBox").style.display="block";
    showQ();
    startTimer();
}

function showQ(){
    document.getElementById("qNo").innerText = "Question "+(index+1)+" / 10";
    document.getElementById("question").innerText = questions[index].q;
    document.getElementById("answer").value="";
}

function submitAnswer(){
    let ans = document.getElementById("answer").value.toLowerCase();
    let keys = questions[index].k;
    let matched=0;
    keys.forEach(k=>{
        if(ans.includes(k)) matched++;
    });
    if(matched>=2) score+=10; // threshold
    next();
}

function skip(){
    skipped.push(questions[index]); // push full question object to skip array
    next();
}

function next(){
    index++;
    if(index < questions.length){
        showQ();
    } else if(skipped.length>0){
        // append skipped questions at the end
        questions = skipped.concat([]);
        skipped = [];
        index = 0;
        showQ();
    } else {
        endTest();
    }
}

function endTest(){
    document.getElementById("quizBox").style.display="none";
    document.getElementById("resultBox").style.display="block";

    let name = document.getElementById("name").value;
    let father = document.getElementById("father").value;
    let roll = document.getElementById("roll").value;
    let cnic = document.getElementById("cnic").value;

    let result = score>=70 ? "PASS ‚úÖ" : "FAIL ‚ùå";

    document.getElementById("resultBox").innerHTML = `
    <h3>Result</h3>
    <p>Name: ${name}</p>
    <p>Father: ${father}</p>
    <p>Roll No: ${roll}</p>
    <p>CNIC: ${cnic}</p>
    <h2>Score: ${score}/100</h2>
    <h2>${result}</h2>
    `;
}

// ================= TIMER =================
function startTimer(){
    let t=setInterval(()=>{
        time--;
        let m=Math.floor(time/60);
        let s=time%60;
        document.getElementById("timer").innerText = `Time: ${m}:${s<10?'0'+s:s}`;
        if(time<=0){
            clearInterval(t);
            endTest();
        }
    },1000);
}
</script>

</body>
</html>
